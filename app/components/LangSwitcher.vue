<script setup lang="ts">
const store = useAppConfigStore()

// à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸ à¸²à¸©à¸²à¹€à¸à¸·à¹ˆà¸­à¹ƒà¸Šà¹‰à¹à¸ªà¸”à¸‡à¸œà¸¥à¹ƒà¸™ UI
const langMap = {
  TH: { label: 'à¹„à¸—à¸¢', flag: 'ğŸ‡¹ğŸ‡­' },
  EN: { label: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
  CN: { label: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' }
}
</script>

<template>
  <div class="lang-switcher">
    <button @click="store.toggleLanguage()" class="btn btn-outline-primary d-flex align-items-center gap-2">
      <span>{{ langMap[store.locale].flag }}</span>
      <span>{{ langMap[store.locale].label }}</span>
    </button>

    <select 
      :value="store.locale" 
      @change="(e) => store.setLanguage((e.target as HTMLSelectElement).value as any)"
      class="form-select mt-2"
    >
      <option value="TH">ğŸ‡¹ğŸ‡­ à¸ à¸²à¸©à¸²à¹„à¸—à¸¢</option>
      <option value="EN">ğŸ‡ºğŸ‡¸ English</option>
      <option value="CN">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
    </select>
  </div>
</template>

<style scoped>
.lang-switcher {
  display: inline-block;
}
</style>